metadata:
  version: 0.0.2
  author: Peter Lyons
  www: https://peterlyons.com
units:
  # choc spread is just a LITTLE too tight for me,
  # so bump it up by 1mm
  # This is by coincidence the same as "u" but "cx + 1"
  # expresses the intent more clearly
  $default_spread: cx + 1
  # I definitely want minimal vertical padding though
  # so "cy" here is choc y
  $default_padding: cy
points:
  key:
    tags.1u: true
    bind: [5,2,5,2]
  zones:
    fingers:
      columns:
        pinky:
        pinky.rows.four.bind: [13.5,5,5,2]
        ring.key.stagger: 0.5cy
        ring.rows.one.bind: [5,5,5+0.5cy,0]
        middle.key.stagger: 0.25cy
        middle.rows.one.bind: [5,5,5+0.75cy,0]
        index.key.stagger: -0.25cy
        index.rows.one.bind: [0,1,24,0]
        index.rows.four.bind: [9.25,2,5,0]
        inner.rows.four.skip: true
        inner.key.stagger: -0.15cy
        inner.rows.one.bind: [0,5,25,0]
        inner.rows.two.bind: [0,25,0,0]
        inner.rows.three.bind: [19.5,25,0,0]
      rows:
        one:
        two:
        three:
        four:
    thumb:
      anchor:
        ref: fingers_inner_one
        shift: [0, -40]
        rotate: -110
      columns:
        thumb:
          rows:
            one:
              bind: [0, 5, 21, 1]
            two:
              rotate: -10
              shift: [1.8, 4]
              bind:  [5,5,5,5]
            three:
              rotate: -10
              shift: [1.8, 4]
              bind: [5,5,2,5.2]
outlines:
  outline:
    main:
      what: rectangle
      where: true
      size: cx
      bound: true
      fillet: 2
pcbs:
  kipra-v1:
    footprints:
      keys:
        what: choc
        where: true
        params:
          from: GND
          to: "{{name}}"
          hotswap: true
          reverse: true
          keycaps: true
      mcu:
        what: promicro
        where:
          - ref: fingers_inner_three
            shift: [22, 0.5U]
            rotate: -90
        params:
          orientation: up
          designator: MCU
      trrs:
        what: trrs
        where:
          - ref: fingers_inner_three
            shift: [2, 1.5cy]
        params:
          reverse: true
          A: wtf
          B: wtf
          C: wtf
          D: wtf
preview: [main]